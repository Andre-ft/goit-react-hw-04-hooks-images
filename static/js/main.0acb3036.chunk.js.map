{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","services/gallery-api.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Loader/Loader.jsx","components/ErrorQuery/error.jpg","components/ErrorQuery/ErrorQuery.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","s","event","preventDefault","trim","toast","error","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","defaultProps","api","fetchGallery","nextQuery","pageNumber","fetch","then","response","json","gallery","hits","length","Promise","reject","Error","ImageGalleryItem","item","id","webformatURL","largeImageURL","onClick","Item","src","alt","LoaderItem","Loader","color","height","width","timeout","radius","secondaryColor","ErrorQuery","message","role","errorImage","Button","allyProps","Status","ImageGallery","getImageURL","setGallery","setError","status","setStatus","setPagenumber","useEffect","galleryAPI","catch","newGallery","getActiveImageURL","imageURL","map","modalRoot","document","querySelector","Modal","children","onClose","window","addEventListener","handleKeyDown","removeEventListener","e","code","createPortal","Overlay","target","App","activeImageURL","setActiveImageURL","style","maxWidth","margin","padding","newQuery","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0acb3036.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Item\":\"ImageGalleryItem_Item__1KFI8\",\"Item-image\":\"ImageGalleryItem_Item-image__c5MHf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2NURL\",\"Modal\":\"Modal_Modal__DfipM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App-header\":\"App_App-header__1tE6L\",\"App-link\":\"App_App-link__ITvKa\",\"App\":\"App_App__2fo9Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2QTDj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__2xxek\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__k64fL\"};","import React, { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport s from './Searchbar.module.css';\nimport PropTypes from 'prop-types';\n\n// class Searchbar extends Component {\nfunction Searchbar({onSubmit}){\n  const [query, setQuery] = useState('');\n\n  const handleQueryChange = event => {\n    setQuery(event.currentTarget.value.toLowerCase() );\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (query.trim() === '') {\n      toast.error('Input query.');\n      return;\n    }\n\n    onSubmit(query);\n    setQuery('');\n  };\n\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={handleSubmit} className={s.SearchForm}>\n          <button type=\"submit\" className={s.SearchForm_button}>\n            <span className={s.SearchForm_button_label}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchForm_input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={query}\n            onChange={handleQueryChange}\n          />\n        </form>\n      </header>\n    );\n}\n\nexport default Searchbar;\n\nSearchbar.defaultProps = {\n  onSubmit: () => null,\n};\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","const API_KEY = '23458770-c93bd78e83fb2002196f13d31';\nconst BASE_URL = 'https://pixabay.com';\n\nfunction fetchGallery(nextQuery, pageNumber) {\n  return fetch(\n    `${BASE_URL}/api/?q=${nextQuery}&page=${pageNumber}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  )\n    .then(response => response.json())\n    .then(gallery => {\n      if (gallery.hits.length === 0) {\n        return Promise.reject(new Error(`Nothing to show for: ${nextQuery}`));\n      }\n      return gallery.hits;\n    });\n}\n\nconst api = {\n  fetchGallery,\n};\n\nexport default api;\n","import React from 'react';\nimport s from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function ImageGalleryItem({\n  item: { id, webformatURL, largeImageURL },\n  onClick,\n}) {\n  return (\n    <li className={s.Item}>\n      <img\n        src={webformatURL}\n        alt=\"\"\n        className={s['Item-image']}\n        id={id}\n        onClick={() => onClick(largeImageURL)}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.defaultProps = {\n  onClick: () => null,\n};\n\nImageGalleryItem.propTypes = {\n  onClick: PropTypes.func,\n  item: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n  }),\n};\n","import React from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nexport default function LoaderItem(){\n    return (\n      <Loader\n        className={s.Loader}\n        type=\"MutatingDots\"\n        color=\"#6ef8d6\"\n        height={100}\n        width={100}\n        timeout={2000} //3 secs\n        radius={20}\n        secondaryColor=\"#1262a8\"\n      />\n    );\n}\n","export default __webpack_public_path__ + \"static/media/error.7d86105a.jpg\";","import errorImage from './error.jpg';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function ErrorQuery({ message }) {\n  return (\n    <div role=\"alert\">\n      <img src={errorImage} width=\"240\" alt=\"sadcat\" />\n      <p>{message}</p>\n    </div>\n  );\n}\n\nErrorQuery.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick, ...allyProps }) => (\n  <button type=\"button\" className={s.Button} onClick={onClick} {...allyProps}>\n    Load more\n  </button>\n);\n\nButton.defaultProps = {\n  onClick: () => null,\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n  'aria-label': PropTypes.string.isRequired,\n};\n\nexport default Button;\n","import React, { useState, useEffect } from 'react';\nimport galleryAPI from '../../services/gallery-api';\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport Loader from '../Loader';\nimport ErrorQuery from '../ErrorQuery';\nimport Button from '../Button';\nimport PropTypes from 'prop-types';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default function ImageGallery({ query, getImageURL }) {\n  \n  const [gallery, setGallery] = useState(null);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n  const [pageNumber, setPagenumber] = useState(1);\n\n  \n  useEffect(() => {\n    if (query !== '') {\n      setStatus(Status.PENDING);\n      setPagenumber(1);\n\n      galleryAPI\n        .fetchGallery(query, 1)\n        .then(gallery => {\n          setGallery(gallery);\n          setStatus(Status.RESOLVED);\n        })\n        .catch(error => {\n          setError(error);\n          setStatus(Status.REJECTED);\n        });\n    }\n  }, [query]);\n\n  useEffect(() => {\n    if (pageNumber !== 1) {\n      galleryAPI\n        .fetchGallery(query, pageNumber)\n        .then(newGallery => {\n          setGallery([...gallery, ...newGallery]);\n          setStatus(Status.RESOLVED)\n        })\n        .catch(error => {\n          setError(error);\n          setStatus(Status.REJECTED);\n        });\n    }\n  }, [pageNumber]);\n\n\n  const getActiveImageURL = imageURL => {\n    getImageURL(imageURL);\n  };\n\n  const loadMoreImages = () => {\n    setPagenumber( pageNumber + 1 );\n  };\n\n    if (status === 'idle') {\n      return <div>Input query.</div>;\n    }\n\n    if (status === 'pending') {\n      return <Loader />;\n    }\n\n    if (status === 'rejected') {\n      return <ErrorQuery message={error.message} />;\n    }\n\n    if (status === 'resolved') {\n      return (\n        <>\n          <ul className={s.ImageGallery}>\n            {gallery.map(item => (\n              <ImageGalleryItem\n                item={item}\n                key={item.id}\n                onClick={getActiveImageURL}\n              />\n            ))}\n          </ul>\n\n          <Button onClick={loadMoreImages} aria-label=\"Load more images\" />\n        </>\n      );\n    }\n  // }\n}\n\nImageGallery.propTypes = {\n  query: PropTypes.string.isRequired,\n  getImageURL: PropTypes.func.isRequired,\n};\n","import React, { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({children, onClose}) {    \n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [])\n  \n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  // render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={handleBackdropClick}>\n        <div className={s.Modal}>{children}</div>\n      </div>,\n      modalRoot,\n    );\n  // }\n}\n\nModal.defaultProps = {\n  onClose: () => null,\n};\n\nModal.propTypes = {\n  onClose: PropTypes.func,\n  imageURL: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n};\n","import s from './App.module.css';\nimport { useState } from 'react';\nimport Searchbar from './components/Searchbar';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport ImageGallery from './components/ImageGallery';\nimport Modal from './components/Modal';\n\nfunction App() {\n  const [query, setQuery] = useState('');\n  const [activeImageURL, setActiveImageURL] = useState(null);\n\n  const handleFormSubmit = newQuery => {\n    setQuery(newQuery);\n  };\n\n  const getActiveImageURL = imageURL => {\n    setActiveImageURL(imageURL);\n  };\n\n  const toggleModal = () => {\n    setActiveImageURL(null);\n  };\n\n  return (\n    <div\n      className={s.App}\n      style={{ maxWidth: 1170, margin: '0 auto', padding: 20 }}\n    >\n      <Searchbar onSubmit={handleFormSubmit} />\n      <ImageGallery query={query} getImageURL={getActiveImageURL} />\n      {activeImageURL && (\n        <Modal onClose={toggleModal} imageURL={activeImageURL}>\n          <img src={activeImageURL} alt={query} />\n        </Modal>\n      )}\n\n      <ToastContainer autoClose={3000} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__-kOzB\",\"SearchForm\":\"Searchbar_SearchForm__17Llm\",\"SearchForm_button\":\"Searchbar_SearchForm_button__10mqL\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__OthTu\",\"SearchForm_input\":\"Searchbar_SearchForm_input__3GzXo\"};"],"sourceRoot":""}